<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/createUser.css">
    <link rel="stylesheet" href="../objects/header.css">
    <link rel="stylesheet" href="../objects/footer.css">
    <title>Opret Bruger</title>
</head>
<body>
<div class="container">
    <div id="header-placeholder"></div>

        <div class="create-user-form">
            <form id="create-user-form">
                <label for="username">Brugernavn (Til login)</label>
                <br>
                <input type="text" id="username" name="username" required>
                <br>
                <label for="password">Adgangskode</label>
                <br>
                <input type="password" id="password" name="password" required>
                <br>
                <label for="confirm-password">Bekr√¶ft adgangskode</label>
                <br>
                <input type="password" id="confirm-password" name="confirm-password" required>
                <br>
                <label for="name">Navn</label>
                <br>
                <input type="text" id="name" name="name" required>
                <br>
                <label for="email">Email</label>
                <br>
                <input type="email" id="email" name="email" required>
                <br>
                <label for="title">Titel i firmaet </label>
                <br>
                <input type="text" placeholder="CEO" id="title" name="title" required>
                <br>
                <h3>Profil Billede</h3>
                <p>Kun jpg, png, jpeg, gif og webp tilladt</p>
                <label for="profile-picture"></label>
                <input type="file" id="profile-picture" name="profile-picture" required>
                <br>
                <!-- Image preview container -->
                <div id="image-preview-container">
                    <img id="image-preview" style="max-width: 100%; max-height: 200px;">
                </div>
                <br>
                <input type="submit" value="Opret bruger" onclick="uploadUser(event)" id="submit">
            </form>
        </div>
</div>
<div id="footer-placeholder"></div>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="../js/footerHeader.js"></script>
<script src="../js/createUser.js"></script>
<script src="../js/config.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
<script>
    $(function(){
        $("#header-placeholder").load("/objects/header.html");
        $("#footer-placeholder").load("/objects/footer.html");

        // Add event listener to update image preview when a file is selected
        document.getElementById('profile-picture').addEventListener('change', function (e) {
            const previewContainer = document.getElementById('image-preview-container');
            const previewImage = document.getElementById('image-preview');

            // Check if a file is selected
            if (e.target.files && e.target.files.length > 0) {
                const reader = new FileReader();

                reader.onload = function (e) {
                    previewImage.src = e.target.result;
                    previewContainer.style.display = 'block';
                };

                reader.readAsDataURL(e.target.files[0]);
            } else {
                previewImage.src = '';
                previewContainer.style.display = 'none';
            }
        });
    });
</script>
</body>
</html>
